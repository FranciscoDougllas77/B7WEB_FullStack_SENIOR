<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplos: video, audio e data-*</title>
    <style>
        :root{
            --bg: #0f172a;
            --fg: #e2e8f0;
            --muted: #94a3b8;
            --line: #1f2937;
            --brand: #38bdf8;
            --card: #111827;
            --radius: 10px;
        }

        *{ box-sizing: border-box; }

        body{
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial;
            background: var(--bg);
            color: var(--fg);
            line-height: 1.5;
        }

        header{ padding: 16px; border-bottom: 1px solid var(--line); }
        header h1{ margin: 0 0 4px; font-size: 1.25rem; }
        header p{ margin: 0; color: var(--muted); }

        .container{ max-width: 1100px; margin: 0 auto; padding: 16px; }
        section{ display: grid; gap: 12px; margin-bottom: 20px; }
        h2{ margin: 0; color: var(--brand); font-size: 1.125rem; }
        .card{ background: var(--card); border: 1px solid var(--line); border-radius: var(--radius); padding: 12px; }
        .help{ color: var(--muted); }
        .row{ display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
        .btn{ background: #0b1220; color: var(--fg); border: 1px solid var(--line); border-radius: 999px; padding: 8px 12px; cursor: pointer; text-decoration: none; }
        .btn.primary{ background: var(--brand); color: #081420; border-color: transparent; }

        video, audio{ width: 100%; display: block; }
        video{ border-radius: 8px; border: 1px solid var(--line); background: #000; }
        audio{ border-radius: 8px; border: 1px solid var(--line); background: #0b1220; }
        .sources{ display: flex; gap: 8px; flex-wrap: wrap; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Tags de vídeo, áudio e uso de atributos data-*</h1>
            <p>Troca de fontes e velocidade com <code>data-*</code>, múltiplas fontes e legenda.</p>
        </div>
    </header>

    <main class="container">
        <section class="card" id="sec-video">
            <h2>Vídeo</h2>
            <p class="help">O navegador escolhe a primeira fonte compatível. Use <code>track</code> para legendas.</p>
            <video id="playerVideo" controls preload="metadata" playsinline poster="https://images.unsplash.com/photo-1520975916090-3105956dac38?auto=format&fit=crop&w=1200&q=60">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm" type="video/webm">
                <track label="Português (BR)" kind="subtitles" srclang="pt-br" src="captions.vtt" default>
                Seu navegador não suporta o elemento <code>video</code>.
            </video>
            <div class="row sources">
                <button class="btn" data-role="video-src" data-src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4">Fonte MP4</button>
                <button class="btn" data-role="video-src" data-src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm">Fonte WEBM</button>
                <button class="btn" data-role="video-rate" data-rate="0.75">0.75x</button>
                <button class="btn primary" data-role="video-rate" data-rate="1">1x</button>
                <button class="btn" data-role="video-rate" data-rate="1.5">1.5x</button>
            </div>
        </section>

        <section class="card" id="sec-audio">
            <h2>Áudio</h2>
            <p class="help">Inclua múltiplas fontes para compatibilidade entre navegadores.</p>
            <audio id="playerAudio" controls preload="metadata">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3" type="audio/mpeg">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.ogg" type="audio/ogg">
                Seu navegador não suporta o elemento <code>audio</code>.
            </audio>
            <div class="row sources">
                <button class="btn" data-role="audio-src" data-src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3">Fonte MP3</button>
                <button class="btn" data-role="audio-src" data-src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.ogg">Fonte OGG</button>
                <button class="btn" data-role="audio-rate" data-rate="0.75">0.75x</button>
                <button class="btn primary" data-role="audio-rate" data-rate="1">1x</button>
                <button class="btn" data-role="audio-rate" data-rate="1.25">1.25x</button>
            </div>
        </section>

        <section class="card" id="sec-data">
            <h2>Exemplo de atributos data-*</h2>
            <p class="help">Atributos <code>data-*</code> permitem anexar metadados personalizados. Abaixo, listamos itens com dados lidos via JS.</p>
            <ul id="lista" style="margin:0; padding-left: 1.1rem;">
                <li data-id="101" data-category="video" data-label="Demonstração">Item 1</li>
                <li data-id="102" data-category="audio" data-label="Amostra">Item 2</li>
                <li data-id="103" data-category="outro" data-label="Genérico">Item 3</li>
            </ul>
            <div class="row" id="saida" aria-live="polite"></div>
        </section>
    </main>

    <script>
        (function(){
            const video = document.getElementById('playerVideo');
            const audio = document.getElementById('playerAudio');

            // Troca de fonte de vídeo
            document.querySelectorAll('[data-role="video-src"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const src = btn.dataset.src;
                    if(!src) return;
                    const wasPlaying = !video.paused;
                    video.src = src;
                    video.load();
                    if(wasPlaying) video.play().catch(() => {});
                });
            });

            // Velocidade do vídeo
            document.querySelectorAll('[data-role="video-rate"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const rate = parseFloat(btn.dataset.rate || '1');
                    video.playbackRate = rate;
                });
            });

            // Troca de fonte de áudio
            document.querySelectorAll('[data-role="audio-src"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const src = btn.dataset.src;
                    if(!src) return;
                    const wasPlaying = !audio.paused;
                    audio.src = src;
                    audio.load();
                    if(wasPlaying) audio.play().catch(() => {});
                });
            });

            // Velocidade do áudio
            document.querySelectorAll('[data-role="audio-rate"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const rate = parseFloat(btn.dataset.rate || '1');
                    audio.playbackRate = rate;
                });
            });

            // Leitura de data-* de uma lista
            const saida = document.getElementById('saida');
            const itens = document.querySelectorAll('#lista li');
            itens.forEach(item => {
                const { id, category, label } = item.dataset;
                const chip = document.createElement('span');
                chip.className = 'btn';
                chip.textContent = `id=${id} · categoria=${category} · rótulo=${label}`;
                saida.appendChild(chip);
            });
        })();
    </script>
</body>
</html>